<div
  *ngIf="companyInfoForm"
  class="settings-company-info"
  [ngClass]="{
    'cms-theme': theme === themeType.CMS,
    'social-theme': theme === themeType.SOCIAL
  }"
>
  <form [formGroup]="companyInfoForm" (ngSubmit)="save()">
    <reactor-room-custom-dialog>
      <div class="head">
        {{ 'Company Info' | translate }}
      </div>
      <div class="content">
        <div
          class="item"
          [ngClass]="{
            invalid: companyInfoForm.controls?.company_name?.errors?.required && (companyInfoForm.controls?.company_name?.dirty || companyInfoForm.controls?.company_name?.touched)
          }"
        >
          <div class="label">{{ 'Company name' | translate }}*</div>
          <input type="text" formControlName="company_name" />
          <mat-error
            *ngIf="companyInfoForm.controls?.company_name?.errors?.required && (companyInfoForm.controls?.company_name?.dirty || companyInfoForm.controls?.company_name?.touched)"
            >{{ 'Company name is required' | translate }}</mat-error
          >
        </div>
        <div class="item flex justify-center items-center">
          <div class="relative">
            <button *ngIf="companyInfoForm?.value?.company_logo" (click)="removeCompanyLogo($event)" class="interactive">
              <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M10 20C15.5228 20 20 15.5228 20 10C20 4.47715 15.5228 0 10 0C4.47715 0 0 4.47715 0 10C0 15.5228 4.47715 20 10 20Z" fill="#EA6161" />
                <path
                  d="M10.5524 10L14.8856 5.66686C15.0381 5.5143 15.0381 5.26696 14.8856 5.11442C14.733 4.96188 14.4857 4.96186 14.3331 5.11442L9.99999 9.44758L5.66686 5.11442C5.5143 4.96186 5.26696 4.96186 5.11442 5.11442C4.96188 5.26698 4.96186 5.51432 5.11442 5.66686L9.44755 10L5.11442 14.3332C4.96186 14.4857 4.96186 14.7331 5.11442 14.8856C5.19069 14.9619 5.29067 15 5.39065 15C5.49063 15 5.59059 14.9619 5.66688 14.8856L9.99999 10.5525L14.3331 14.8856C14.4094 14.9619 14.5094 15 14.6094 15C14.7093 15 14.8093 14.9619 14.8856 14.8856C15.0381 14.733 15.0381 14.4857 14.8856 14.3332L10.5524 10Z"
                  fill="white"
                />
              </svg>
            </button>
            <label>
              <span class="mx-auto relative flex self-end h-full">
                <img class="mt-auto" [src]="companyInfoForm?.value?.company_logo" onerror="src='assets/img/customer/customer_error.svg'" />
              </span>
              <input type="file" name="fileUpload" accept="image/x-png,image/gif,image/jpeg" (change)="onFileChange($event)" style="display: none" />
              <mat-error *ngIf="companyInfoForm.controls?.company_logo_file?.errors?.sizeExceeded">{{ 'Size exceeded' | translate }}</mat-error>
              <mat-error *ngIf="companyInfoForm.controls?.company_logo_file?.errors?.wrongType">{{ 'Please use valid image' | translate }}</mat-error>
            </label>
          </div>
        </div>
        <div
          class="item"
          [ngClass]="{
            invalid: companyInfoForm.controls?.branch_name?.errors?.required && (companyInfoForm.controls?.branch_name?.dirty || companyInfoForm.controls?.branch_name?.touched)
          }"
        >
          <div class="label">{{ 'Branch name' | translate }}*</div>
          <input type="text" formControlName="branch_name" />
          <mat-error
            *ngIf="companyInfoForm.controls?.branch_name?.errors?.required && (companyInfoForm.controls?.branch_name?.dirty || companyInfoForm.controls?.branch_name?.touched)"
            >{{ 'Branch name is required' | translate }}</mat-error
          >
        </div>
        <div
          class="item"
          [ngClass]="{
            invalid:
              companyInfoForm.controls?.tax_identification_number?.errors?.required &&
              (companyInfoForm.controls?.tax_identification_number?.dirty || companyInfoForm.controls?.tax_identification_number?.touched)
          }"
        >
          <div class="label">{{ 'Tax ID' | translate }}*</div>
          <input type="text" formControlName="tax_identification_number" />
          <mat-error
            *ngIf="
              companyInfoForm.controls?.tax_identification_number?.errors?.required &&
              (companyInfoForm.controls?.tax_identification_number?.dirty || companyInfoForm.controls?.tax_identification_number?.touched)
            "
            >{{ 'Tax ID is required' | translate }}</mat-error
          >
        </div>
        <div
          class="item"
          [ngClass]="{
            invalid: companyInfoForm.controls?.branch_id?.errors?.required && (companyInfoForm.controls?.branch_id?.dirty || companyInfoForm.controls?.branch_id?.touched)
          }"
        >
          <div class="label">{{ 'Branch ID' | translate }}*</div>
          <input type="text" formControlName="branch_id" />
          <mat-error
            *ngIf="companyInfoForm.controls?.branch_id?.errors?.required && (companyInfoForm.controls?.branch_id?.dirty || companyInfoForm.controls?.branch_id?.touched)"
            >{{ 'Branch ID is required' | translate }}</mat-error
          >
        </div>
        <div
          class="item"
          [ngClass]="{
            invalid: companyInfoForm.controls?.phone_number?.errors?.required && (companyInfoForm.controls?.phone_number?.dirty || companyInfoForm.controls?.phone_number?.touched)
          }"
        >
          <div class="label">{{ 'Phone number' | translate }}*</div>
          <input type="text" formControlName="phone_number" />
          <mat-error
            *ngIf="companyInfoForm.controls?.phone_number?.errors?.required && (companyInfoForm.controls?.phone_number?.dirty || companyInfoForm.controls?.phone_number?.touched)"
            >{{ 'Phone number is required' | translate }}</mat-error
          >
        </div>
        <div
          class="item"
          [ngClass]="{ invalid: companyInfoForm.controls?.email?.errors?.required && (companyInfoForm.controls?.email?.dirty || companyInfoForm.controls?.email?.touched) }"
        >
          <div class="label">{{ 'Email' | translate }}*</div>
          <input type="text" formControlName="email" />
          <mat-error *ngIf="companyInfoForm.controls?.email?.errors?.required && (companyInfoForm.controls?.email?.dirty || companyInfoForm.controls?.email?.touched)">{{
            'Email is required' | translate
          }}</mat-error>
          <mat-error *ngIf="companyInfoForm.controls?.email?.errors?.pattern && (companyInfoForm.controls?.email?.dirty || companyInfoForm.controls?.email?.touched)">
            {{ 'Invalid Email Format' | translate }}
          </mat-error>
        </div>
        <div class="item">
          <div class="label">{{ 'Fax' | translate }}</div>
          <input type="text" formControlName="fax" />
        </div>
        <div class="item on-line">
          <div class="label">{{ 'Address' | translate }}</div>
          <input type="text" formControlName="address" />
        </div>
        <reactor-room-address [fields]="addressFields" class="item on-line"> </reactor-room-address>
        <div class="item" style="visibility: hidden">
          <div class="label">{{ 'Country' | translate }}*</div>
          <input type="text" disabled formControlName="country" />
        </div>
      </div>
      <div class="footer">
        <div class="flex justify-end">
          <button class="btn-cancel" type="reset" (click)="close()">
            {{ 'Cancel' | translate }}
          </button>
          <button class="btn-active ml-5" type="submit">
            <svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M9.83643 18.3939C14.807 18.3939 18.8364 14.3644 18.8364 9.39388C18.8364 4.42331 14.807 0.393875 9.83643 0.393875C4.86584 0.393875 0.836426 4.42331 0.836426 9.39388C0.836426 14.3644 4.86584 18.3939 9.83643 18.3939ZM14.6481 5.2159C14.8746 4.98447 15.2421 4.98447 15.4686 5.2159C15.6952 5.44731 15.6952 5.82248 15.4686 6.05388L8.10706 13.5719C7.88074 13.8032 7.51306 13.8033 7.28662 13.5719L4.20435 10.4242C3.97778 10.1928 3.97778 9.81766 4.20435 9.58626C4.43103 9.35487 4.79834 9.35484 5.0249 9.58626L7.6969 12.315L14.6481 5.2159Z"
                fill="white"
              />
            </svg>
            <span class="ml-5">
              {{ 'Save' | translate }}
            </span>
          </button>
        </div>
      </div>
    </reactor-room-custom-dialog>
  </form>
</div>
