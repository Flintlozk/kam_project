<button #button class="loader small mx-auto animated-fast" [ngClass]="{ requesting: isRequesting }" (click)="getPreviousMessages()">
  <ng-container *ngIf="isRequesting">
    <svg width="24px" height="24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">
      <rect x="0" y="0" width="100" height="100" fill="none"></rect>
      <circle cx="50" cy="50" r="40" stroke="#54b1ff" stroke-opacity="0.2" fill="none" stroke-width="8" stroke-linecap="round">
        <animate id="animation1" attributeName="opacity" from="1" to="0.5" dur="1s" begin="0s;animation2.end" />
        <animate id="animation2" attributeName="opacity" from="0.5" to="1" dur="1s" begin="animation1.end" />
      </circle>
      <circle cx="50" cy="50" r="40" stroke="#54b1ff" fill="none" stroke-width="8" stroke-linecap="round">
        <animate attributeName="stroke-dashoffset" dur="1.5s" repeatCount="indefinite" from="502" to="0"></animate>
        <animate attributeName="stroke-dasharray" dur="1.5" repeatCount="indefinite" values="150.6 100.4;1 250;150.6 100.4"></animate>
      </circle>
    </svg>
  </ng-container>
</button>
