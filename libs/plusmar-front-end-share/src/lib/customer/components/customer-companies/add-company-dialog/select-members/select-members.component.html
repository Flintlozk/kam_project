<div class="bg-white rounded-md p-20 px-15">
  <div class="dialog-header">
    {{ 'Select customers' | translate }}
  </div>
  <div [formGroup]="filterForm" *ngIf="filterForm" class="overflow-on-mobile flex flex-col px-10 pt-15">
    <div class="flex items-center justify-between py-10">
      <span class="text-sm counter">{{ totalRows }} {{ 'Customers' | translate }}</span>

      <div class="flex items-center">
        <div class="flex items-center mr-20">
          <ng-container *ngFor="let control of filterForm.controls.social['controls']; let i = index">
            <label class="relative flex items-center mr-20 cursor-pointer interactive">
              <input type="checkbox" [formControl]="control" class="svg-checkbox hidden" />
              <span class="svg-checkbox_border"></span>
              <ng-container *ngIf="i === 0">
                <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M15 30C23.2843 30 30 23.2843 30 15C30 6.71573 23.2843 0 15 0C6.71573 0 0 6.71573 0 15C0 23.2843 6.71573 30 15 30Z" fill="#0075FB" />
                  <path
                    d="M17.9035 9.31929H19.4845V6.61465C19.2117 6.5778 18.2737 6.49487 17.1812 6.49487C12.1791 6.49487 13.54 12.0587 13.3409 12.8737H10.8247V15.8973H13.3402V23.5052H16.4242V15.898H18.838L19.2211 12.8744H16.4235C16.5592 10.8729 15.8744 9.31929 17.9035 9.31929Z"
                    fill="white"
                  />
                </svg>
              </ng-container>
              <ng-container *ngIf="i === 1">
                <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M15 30C23.2843 30 30 23.2843 30 15C30 6.71573 23.2843 0 15 0C6.71573 0 0 6.71573 0 15C0 23.2843 6.71573 30 15 30Z" fill="#00B900" />
                  <path
                    d="M15.0001 7.10815C9.90514 7.10815 5.75757 10.4849 5.75757 14.6348C5.75757 18.3517 9.04636 21.4659 13.4866 22.0578C13.7878 22.1216 14.1975 22.2575 14.3015 22.5139C14.3939 22.7465 14.3623 23.1059 14.3308 23.3485L14.2044 24.1363C14.1698 24.3689 14.0196 25.0522 15.0124 24.6346C16.0067 24.2184 20.3392 21.4835 22.2801 19.2454C23.6079 17.7866 24.2426 16.2917 24.2426 14.6348C24.2426 10.4849 20.095 7.10815 15.0001 7.10815ZM11.3824 17.1025H9.54468C9.27896 17.1025 9.05945 16.8822 9.05945 16.6165V12.9303C9.05945 12.6639 9.27896 12.4435 9.54468 12.4435C9.81272 12.4435 10.0299 12.6639 10.0299 12.9303V16.1297H11.3824C11.6504 16.1297 11.8669 16.3485 11.8669 16.6165C11.8669 16.8822 11.6497 17.1025 11.3824 17.1025ZM13.2817 16.6165C13.2817 16.8822 13.0645 17.1025 12.7957 17.1025C12.53 17.1025 12.3128 16.8822 12.3128 16.6165V12.9303C12.3128 12.6639 12.53 12.4435 12.798 12.4435C13.0645 12.4435 13.2817 12.6639 13.2817 12.9303V16.6165ZM17.7035 16.6165C17.7035 16.8253 17.5695 17.0104 17.3708 17.0772C17.3215 17.0933 17.2683 17.101 17.2175 17.101C17.055 17.101 16.9164 17.0311 16.8247 16.9075L14.9431 14.3446V16.6157C14.9431 16.8814 14.7282 17.1017 14.4571 17.1017C14.1906 17.1017 13.9749 16.8814 13.9749 16.6157V12.9303C13.9749 12.7215 14.1082 12.5364 14.3061 12.4704C14.3523 12.4528 14.4109 12.4451 14.4555 12.4451C14.6057 12.4451 14.7444 12.5257 14.8368 12.6416L16.733 15.2145V12.9303C16.733 12.6639 16.9502 12.4435 17.2183 12.4435C17.484 12.4435 17.7035 12.6639 17.7035 12.9303V16.6165ZM20.6727 14.2862C20.9415 14.2862 21.1579 14.5066 21.1579 14.7738C21.1579 15.0402 20.9415 15.2606 20.6727 15.2606H19.3209V16.1297H20.6727C20.9415 16.1297 21.1579 16.3485 21.1579 16.6165C21.1579 16.8822 20.9415 17.1025 20.6727 17.1025H18.8349C18.5692 17.1025 18.352 16.8822 18.352 16.6165V12.9303C18.352 12.6639 18.5692 12.4435 18.8373 12.4435H20.675C20.9415 12.4435 21.1579 12.6639 21.1579 12.9303C21.1579 13.1998 20.9415 13.4171 20.6727 13.4171H19.3209V14.2862H20.6727Z"
                    fill="white"
                  />
                </svg>
              </ng-container>
            </label>
          </ng-container>
        </div>

        <div [formGroup]="filterForm" *ngIf="filterForm" class="pb-0 search">
          <input autofocus type="text" name="Search" [placeholder]="'Search' | translate" formControlName="search" />
        </div>
      </div>
    </div>

    <reactor-room-custom-table
      style="height: 60vh"
      class="overflow-hidden"
      templateStyle="bg-white"
      [isLoading]="false"
      [tableColSpan]="tableHeader.length"
      [tableData]="tableData"
      [tableHeader]="tableHeader"
      [isNoVerticalScroll]="true"
      [orderMethod]="filterForm.value.orderMethod"
      [currentIndex]="1"
      (sortTableMetaData)="sortTableData($event)"
      (selectAll)="selectAllHandler($event)"
      [isAllchecked]="isAllchecked"
    >
      <tr *ngFor="let data of tableData; trackBy: trackBy" class="bt1 table-content">
        <td class="border-radius-0">
          <div class="first" style="width: 40px">
            <label class="custom-checkbox">
              <input type="checkbox" [checked]="isIdSelected(data)" (change)="selectRow(data, $event)" />
              <span class="checkmark"></span>
            </label>
          </div>
        </td>

        <td style="padding: 0px" class="w-full border-radius-0">
          <div class="customer-profile flex items-center">
            <reactor-room-customer-profile-picture [line_user_id]="data.line_user_id" [psid]="data.psid" [url]="data.profile_pic"></reactor-room-customer-profile-picture>
            <div class="content flex items-center">{{ data.first_name }} {{ data.last_name }}</div>
          </div>
        </td>
      </tr>
    </reactor-room-custom-table>
    <reactor-room-pagination #paginator [pageSize]="10" [length]="totalRows" (changePage)="changePage($event)"></reactor-room-pagination>

    <div class="footer">
      <div class="flex justify-end">
        <button class="btn-cancel" type="reset" (click)="dialogRef.close(false)">
          {{ 'Cancel' | translate }}
        </button>
        <button class="btn-active ml-5" type="submit" (click)="save()">
          <svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M9.83643 18.3939C14.807 18.3939 18.8364 14.3644 18.8364 9.39388C18.8364 4.42331 14.807 0.393875 9.83643 0.393875C4.86584 0.393875 0.836426 4.42331 0.836426 9.39388C0.836426 14.3644 4.86584 18.3939 9.83643 18.3939ZM14.6481 5.2159C14.8746 4.98447 15.2421 4.98447 15.4686 5.2159C15.6952 5.44731 15.6952 5.82248 15.4686 6.05388L8.10706 13.5719C7.88074 13.8032 7.51306 13.8033 7.28662 13.5719L4.20435 10.4242C3.97778 10.1928 3.97778 9.81766 4.20435 9.58626C4.43103 9.35487 4.79834 9.35484 5.0249 9.58626L7.6969 12.315L14.6481 5.2159Z"
              fill="white"
            />
          </svg>
          <span class="ml-5">
            {{ 'Ok' | translate }}
          </span>
        </button>
      </div>
    </div>
  </div>
</div>
